<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATS Resume Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        /* Print-specific styles */
        @media print {
            /* Hide the form, buttons, and header */
            body {
                background-color: #fff;
            }
            #resume-form, #header-bar {
                display: none;
            }

            /* Ensure the preview takes up the full page */
            #resume-preview-container {
                width: 100% !important;
                height: 100% !important;
                margin: 0 !important;
                padding: 0 !important;
                box-shadow: none !important;
                border: none !important;
            }
            
            #resume-preview {
                box-shadow: none !important;
                border: none !important;
                padding: 0 !important;
                margin: 0 !important;
            }
            
            /* Ensure links are just text */
            a {
                color: #000 !important;
                text-decoration: none !important;
            }
            
            /* Prevent page breaks inside sections */
            .resume-section {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Header Bar -->
    <header id="header-bar" class="bg-white shadow-md p-4 flex justify-between items-center print:hidden">
        <h1 class="text-2xl font-bold text-blue-600">ATS Resume Builder by Vansh</h1>
        <button 
            onclick="window.print()"
            class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow transition duration-300 ease-in-out">
            Download / Print as PDF
        </button>
    </header>

    <div class="container mx-auto p-4 md:flex md:gap-8">

        <!-- ==== LEFT COLUMN: FORM ==== -->
        <div id="resume-form" class="md:w-1/2 bg-white p-6 rounded-lg shadow-lg mb-8 md:mb-0 print:hidden">
            <h2 class="text-xl font-semibold mb-4 border-b pb-2">Personal Information</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <input type="text" id="name" placeholder="Full Name" class="p-2 border rounded-md" oninput="updatePreview()">
                <input type="email" id="email" placeholder="Email" class="p-2 border rounded-md" oninput="updatePreview()">
                <input type="tel" id="phone" placeholder="Phone" class="p-2 border rounded-md" oninput="updatePreview()">
                <input type="text" id="linkedin" placeholder="LinkedIn Profile URL" class="p-2 border rounded-md" oninput="updatePreview()">
                <input type="text" id="portfolio" placeholder="Portfolio/Website URL" class="p-2 border rounded-md" oninput="updatePreview()">
            </div>
            
            <h2 class="text-xl font-semibold mb-4 border-b pb-2">Professional Summary</h2>
            <textarea id="summary" placeholder="Write a brief professional summary..." class="w-full p-2 border rounded-md h-24" oninput="updatePreview()"></textarea>

            <!-- Skills -->
            <h2 class="text-xl font-semibold mt-6 mb-4 border-b pb-2">Skills</h2>
            <textarea id="skills" placeholder="Enter skills, separated by commas (e.g., JavaScript, React, Node.js)" class="w-full p-2 border rounded-md h-20" oninput="updatePreview()"></textarea>

            <!-- Experience -->
            <div class="mt-6">
                <h2 class="text-xl font-semibold mb-4 border-b pb-2">Work Experience</h2>
                <div class="space-y-2 mb-4">
                    <input type="text" id="exp-title" placeholder="Job Title" class="w-full p-2 border rounded-md">
                    <input type="text" id="exp-company" placeholder="Company" class="w-full p-2 border rounded-md">
                    <input type="text" id="exp-dates" placeholder="Dates (e.g., Jan 2020 - Present)" class="w-full p-2 border rounded-md">
                    <textarea id="exp-desc" placeholder="Responsibilities (one per line)" class="w-full p-2 border rounded-md h-20"></textarea>
                </div>
                <button onclick="addExperience()" class="bg-gray-700 hover:bg-gray-800 text-white font-bold py-2 px-4 rounded-lg w-full">Add Experience</button>
            </div>

            <!-- Education -->
            <div class="mt-6">
                <h2 class="text-xl font-semibold mb-4 border-b pb-2">Education</h2>
                <div class="space-y-2 mb-4">
                    <input type="text" id="edu-degree" placeholder="Degree (e.g., B.S. in Computer Science)" class="w-full p-2 border rounded-md">
                    <input type="text" id="edu-school" placeholder="School/University" class="w-full p-2 border rounded-md">
                    <input type="text" id="edu-dates" placeholder="Dates (e.g., Aug 2016 - May 2020)" class="w-full p-2 border rounded-md">
                </div>
                <button onclick="addEducation()" class="bg-gray-700 hover:bg-gray-800 text-white font-bold py-2 px-4 rounded-lg w-full">Add Education</button>
            </div>

             <!-- Projects -->
            <div class="mt-6">
                <h2 class="text-xl font-semibold mb-4 border-b pb-2">Projects</h2>
                <div class="space-y-2 mb-4">
                    <input type="text" id="proj-name" placeholder="Project Name" class="w-full p-2 border rounded-md">
                     <input type="text" id="proj-link" placeholder="Project Link (optional)" class="w-full p-2 border rounded-md">
                    <textarea id="proj-desc" placeholder="Project description (one per line)" class="w-full p-2 border rounded-md h-20"></textarea>
                </div>
                <button onclick="addProject()" class="bg-gray-700 hover:bg-gray-800 text-white font-bold py-2 px-4 rounded-lg w-full">Add Project</button>
            </div>
        </div>

        <!-- ==== RIGHT COLUMN: PREVIEW ==== -->
        <div id="resume-preview-container" class="md:w-1/2 h-full">
             <div id="resume-preview" class="bg-white p-8 rounded-lg shadow-lg h-full border border-gray-200" style="min-height: 29.7cm;"> <!-- A4-ish height -->
                <!-- Personal Info Preview -->
                <div id="preview-header" class="text-center border-b pb-4">
                    <h1 id="preview-name" class="text-4xl font-bold">Your Name</h1>
                    <div id="preview-contact" class="flex justify-center gap-4 text-sm mt-2 text-gray-600">
                        <span id="preview-phone-container" class="hidden">
                            <span id="preview-phone"></span>
                        </span>
                        <span id="preview-email-container" class="hidden">
                            <a id="preview-email" href="#" class="text-blue-600"></a>
                        </span>
                        <span id="preview-linkedin-container" class="hidden">
                            <a id="preview-linkedin" href="#" target="_blank" class="text-blue-600"></a>
                        </span>
                         <span id="preview-portfolio-container" class="hidden">
                            <a id="preview-portfolio" href="#" target="_blank" class="text-blue-600"></a>
                        </span>
                    </div>
                </div>

                <!-- Summary Preview -->
                <div id="preview-summary-section" class="mt-6 hidden resume-section">
                    <h2 class="text-xl font-semibold border-b-2 border-gray-300 pb-1">Professional Summary</h2>
                    <p id="preview-summary" class="mt-2 text-sm"></p>
                </div>
                
                <!-- Skills Preview -->
                <div id="preview-skills-section" class="mt-6 hidden resume-section">
                    <h2 class="text-xl font-semibold border-b-2 border-gray-300 pb-1">Skills</h2>
                    <ul id="preview-skills" class="mt-2 list-disc list-inside grid grid-cols-2 md:grid-cols-3 gap-x-4 text-sm">
                        <!-- Skills will be dynamically injected here -->
                    </ul>
                </div>

                <!-- Experience Preview -->
                <div id="preview-experience-section" class="mt-6 hidden resume-section">
                    <h2 class="text-xl font-semibold border-b-2 border-gray-300 pb-1">Work Experience</h2>
                    <div id="preview-experience-list" class="mt-2 space-y-4">
                        <!-- Experience items will be dynamically injected here -->
                    </div>
                </div>

                <!-- Projects Preview -->
                <div id="preview-projects-section" class="mt-6 hidden resume-section">
                    <h2 class="text-xl font-semibold border-b-2 border-gray-300 pb-1">Projects</h2>
                    <div id="preview-projects-list" class="mt-2 space-y-4">
                        <!-- Project items will be dynamically injected here -->
                    </div>
                </div>

                <!-- Education Preview -->
                <div id="preview-education-section" class="mt-6 hidden resume-section">
                    <h2 class="text-xl font-semibold border-b-2 border-gray-300 pb-1">Education</h2>
                    <div id="preview-education-list" class="mt-2 space-y-2">
                        <!-- Education items will be dynamically injected here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function updatePreview() {
            // Personal Info
            const name = document.getElementById('name').value;
            document.getElementById('preview-name').innerText = name || 'Your Name';

            updateContact('phone', 'preview-phone-container', 'preview-phone');
            updateContact('email', 'preview-email-container', 'preview-email', 'mailto:');
            updateContact('linkedin', 'preview-linkedin-container', 'preview-linkedin', '', true);
            updateContact('portfolio', 'preview-portfolio-container', 'preview-portfolio', '', true);
            
            // Summary
            const summary = document.getElementById('summary').value;
            const summarySection = document.getElementById('preview-summary-section');
            if (summary) {
                document.getElementById('preview-summary').innerText = summary;
                summarySection.classList.remove('hidden');
            } else {
                summarySection.classList.add('hidden');
            }

            // Skills
            const skills = document.getElementById('skills').value;
            const skillsSection = document.getElementById('preview-skills-section');
            const skillsList = document.getElementById('preview-skills');
            skillsList.innerHTML = '';
            if (skills) {
                skills.split(',').forEach(skill => {
                    if (skill.trim()) {
                        const li = document.createElement('li');
                        li.innerText = skill.trim();
                        skillsList.appendChild(li);
                    }
                });
                skillsSection.classList.remove('hidden');
            } else {
                skillsSection.classList.add('hidden');
            }
        }

        function updateContact(inputId, containerId, elementId, hrefPrefix = '', isLink = false) {
            const value = document.getElementById(inputId).value;
            const container = document.getElementById(containerId);
            const element = document.getElementById(elementId);
            
            if (value) {
                if (isLink) {
                    element.href = value.startsWith('http') ? value : `https://${value}`;
                    element.innerText = value.replace(/^(https?:\/\/)?(www\.)?/, '');
                } else {
                    element.innerText = value;
                    if(hrefPrefix) element.href = hrefPrefix + value;
                }
                container.classList.remove('hidden');
            } else {
                container.classList.add('hidden');
            }
        }

        function addExperience() {
            const title = document.getElementById('exp-title').value;
            const company = document.getElementById('exp-company').value;
            const dates = document.getElementById('exp-dates').value;
            const desc = document.getElementById('exp-desc').value;

            if (!title || !company) return;

            const list = document.getElementById('preview-experience-list');
            document.getElementById('preview-experience-section').classList.remove('hidden');

            const item = document.createElement('div');
            item.className = 'text-sm';
            
            let responsibilitiesHTML = '';
            if (desc) {
                responsibilitiesHTML = '<ul class="list-disc list-inside mt-1 space-y-1">';
                desc.split('\n').forEach(line => {
                    if(line.trim()) {
                        responsibilitiesHTML += `<li>${line.trim()}</li>`;
                    }
                });
                responsibilitiesHTML += '</ul>';
            }

            item.innerHTML = `
                <div class="flex justify-between items-center">
                    <h3 class="text-base font-semibold">${title}</h3>
                    <span class="font-medium text-gray-600">${dates}</span>
                </div>
                <h4 class="text-base font-medium text-gray-700">${company}</h4>
                ${responsibilitiesHTML}
            `;
            
            list.appendChild(item);

            // Clear fields
            document.getElementById('exp-title').value = '';
            document.getElementById('exp-company').value = '';
            document.getElementById('exp-dates').value = '';
            document.getElementById('exp-desc').value = '';
        }

        function addEducation() {
            const degree = document.getElementById('edu-degree').value;
            const school = document.getElementById('edu-school').value;
            const dates = document.getElementById('edu-dates').value;

            if (!degree || !school) return;

            const list = document.getElementById('preview-education-list');
            document.getElementById('preview-education-section').classList.remove('hidden');

            const item = document.createElement('div');
            item.className = 'text-sm flex justify-between items-center';
            
            item.innerHTML = `
                <div>
                    <h3 class="text-base font-semibold">${degree}</h3>
                    <h4 class="text-base font-medium text-gray-700">${school}</h4>
                </div>
                <span class="font-medium text-gray-600">${dates}</span>
            `;
            
            list.appendChild(item);

            // Clear fields
            document.getElementById('edu-degree').value = '';
            document.getElementById('edu-school').value = '';
            document.getElementById('edu-dates').value = '';
        }

        function addProject() {
            const name = document.getElementById('proj-name').value;
            const link = document.getElementById('proj-link').value;
            const desc = document.getElementById('proj-desc').value;

            if (!name) return;

            const list = document.getElementById('preview-projects-list');
            document.getElementById('preview-projects-section').classList.remove('hidden');

            const item = document.createElement('div');
            item.className = 'text-sm';
            
            let descriptionHTML = '';
            if (desc) {
                descriptionHTML = '<ul class="list-disc list-inside mt-1 space-y-1">';
                desc.split('\n').forEach(line => {
                    if(line.trim()) {
                        descriptionHTML += `<li>${line.trim()}</li>`;
                    }
                });
                descriptionHTML += '</ul>';
            }
            
            const linkHTML = link ? `<a href="${link.startsWith('http') ? link : 'https://' + link}" target="_blank" class="text-blue-600 text-sm ml-2">[Link]</a>` : '';

            item.innerHTML = `
                <h3 class="text-base font-semibold">${name}${linkHTML}</h3>
                ${descriptionHTML}
            `;
            
            list.appendChild(item);

            // Clear fields
            document.getElementById('proj-name').value = '';
            document.getElementById('proj-link').value = '';
            document.getElementById('proj-desc').value = '';
        }

        // Initial call to set default text
        updatePreview();
    </script>
</body>
</html>
